(window.webpackJsonpetsy=window.webpackJsonpetsy||[]).push([[0],{136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(59),o=a.n(c),i=(a(72),a(34)),s=a.n(i),l=a(60),u=a(15),m=(a(74),a(38),a(137),a(36)),p=a.n(m),f=function(e){return r.a.createElement("div",null,r.a.createElement("a",{href:e.url},r.a.createElement("div",{className:p.a.recipe},r.a.createElement("h1",{className:p.a.h1},e.title),r.a.createElement("p",null,r.a.createElement("b",null,"Price: "),"$",e.price),r.a.createElement("p",null,r.a.createElement("b",null,"Num of Favorites: "),e.fav))))};var h=function(){var e="gzbfz3zz36yhy3xv4lqwxn5h",t=Object(n.useState)([]),c=Object(u.a)(t,2),o=c[0],i=c[1],m=Object(n.useState)(0),p=Object(u.a)(m,2),h=p[0],v=p[1],d=Object(n.useState)(""),_=Object(u.a)(d,2),b=_[0],g=_[1],w=Object(n.useState)("chicken"),y=Object(u.a)(w,2),E=y[0],k=y[1];Object(n.useEffect)(function(){j()},[E]);var O=a(38);function j(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(s.a.mark(function t(){var a,n,r,c,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://cors-anywhere.herokuapp.com/",t.next=3,O.get("".concat("https://cors-anywhere.herokuapp.com/","https://openapi.etsy.com/v2/listings/active?api_key=").concat(e,"&keywords=").concat(E,"&fields=title,num_favorers,pagination,currency_code,url,price&limit=100&offset=").concat(h,"&includes=MainImage,favorites"));case 3:a=t.sent,console.log(a.data.pagination.next_offset),v(a.data.pagination.next_offset),console.log(h),h>=100?(console.log("hi"),n=(n=a.data.results).concat(o),r=n.sort(function(e,t){return e.num_favorers-t.num_favorers}),i(r),console.log(r)):(c=a.data.results,l=c.sort(function(e,t){return e.num_favorers-t.num_favorers}),i(l));case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}return r.a.createElement("div",{className:"App"},r.a.createElement("form",{className:"search_form",onSubmit:function(e){e.preventDefault(),k(b),g("")}},r.a.createElement("input",{type:"text",className:"search_input",value:b,onChange:function(e){g(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"search_button"},"Submit")),r.a.createElement("div",{className:"recipes"},o.map(function(e,t){return r.a.createElement(f,{key:"recipe_"+t,title:e.title,price:e.price,url:e.url,fav:e.num_favorers,api:""})})),r.a.createElement("button",{onClick:j,type:"button",className:"load-more"},"Load more"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},36:function(e,t,a){e.exports={recipe:"listing_recipe__14SDz",image:"listing_image__3TZOc",h1:"listing_h1__2s9Fa"}},67:function(e,t,a){e.exports=a(136)},72:function(e,t,a){},74:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.85f71113.chunk.js.map